<app-window [windowTitle]="title" background="black" titleColor="#efefef" [minWidth]="800" [minHeight]="554"
            (resize)="onResize($event)">
  <div class="container">
    <app-dicom-viewer-config [hidden]="!showConfig" (config)="start($event)"></app-dicom-viewer-config>
    <app-dicom-viewer-toolbar *ngIf="dataset" [activeLeftTool]="activeLeftTool" [activeRightTool]="activeRightTool"
                              [dataset]="dataset" (toolSelected)="selectActiveTool($event)"></app-dicom-viewer-toolbar>
    <div #viewportElement class="viewport" [hidden]="showConfig">
      <button (click)="back()">Back</button>
      <div *ngIf="!!viewport" class="overlay">
        <div class="overlay-top-left">
          <p>{{config.dataset.name}}</p>
        </div>
        <div class="overlay-top-right">
          <p>renderer: {{config.rendererType}}</p>
          <p>framerate: {{fps ? fps + 'fps' : '-'}}</p>
          <p>rendering: {{meanRenderDuration > 0 ? (meanRenderDuration | number: '1.2-2') + 'ms' : '-'}}</p>
        </div>
        <div class="overlay-bottom-right">
          <p>zoom: {{viewport.zoom | number: '1.2-2'}}</p>
        </div>
        <div class="overlay-bottom-left">
          <p>WW: {{viewport.windowWidth}}</p>
          <p>WC: {{viewport.windowCenter}}</p>
        </div>
      </div>
    </div>
    <div class="loading" *ngIf="loading">
      <p>Loading...</p>
    </div>
    <div class="error" *ngIf="!!errorMessage">
      <p>{{errorMessage}}</p>
    </div>
  </div>
</app-window>
