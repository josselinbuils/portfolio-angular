<app-window [windowTitle]="title" background="black" titleColor="white" [minWidth]="800" [minHeight]="540"
            (resize)="onResize($event)">
  <div class="container">
    <app-config [hidden]="!showConfig" (config)="start($event)"></app-config>
    <div #viewportElement class="viewport" [hidden]="showConfig">
      <button (click)="back()">Back</button>
      <div *ngIf="!!viewport" class="overlay">
        <div class="overlay-top-left">
          <p>{{config.dataset.name}}</p>
        </div>
        <div class="overlay-top-right">
          <p>renderer: {{config.rendererType}}</p>
          <p>framerate: {{fps ? fps + 'fps' : '-'}}</p>
          <p>rendering: {{meanRenderDuration | number: '1.2-2'}}ms</p>
        </div>
        <div class="overlay-bottom-right">
          <p>zoom: {{viewport.height / viewport.image.height * viewport.zoom | number: '1.2-2'}}</p>
        </div>
        <div class="overlay-bottom-left">
          <p>WW: {{viewport.windowWidth}}</p>
          <p>WL: {{viewport.windowLevel}}</p>
        </div>
      </div>
    </div>
    <div class="loading" *ngIf="loading">
      <p>Loading...</p>
    </div>
    <div class="error" *ngIf="!!errorMessage">
      <p>{{errorMessage}}</p>
    </div>
  </div>
</app-window>
